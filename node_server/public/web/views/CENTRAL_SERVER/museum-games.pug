extends ../template.pug

block content

    // Variables -----------------------------------------------------------------------------------------------------------------------------------
    - var game;
    - var paragraph;

    // Mixins --------------------------------------------------------------------------------------------------------------------------------------

    // Game display -------------------------------------------------------------------------
    mixin displayGame(game)
        - var gameId = game.name.replaceAll(' ', '-');
        - var imageSrc = '/web/views/CENTRAL_SERVER/museum-game-images/' + game.image;

        .game(onclick='openOverlay("' + gameId + '")')
            img(src=imageSrc alt=altText)

            b= game.name

            p= game.credit

        .game-description-overlay.overlay-container(id=gameId)
            .overlay 

                .game-title-container
                    img(src=imageSrc alt=altText)

                    h3= game.name 
                    p= game.credit

                    .game-link
                        a.link-icon=game.link

                    .icon-container
                        i(class="fa-solid fa-xmark" onclick='closeOverlay("' + gameId + '")')

                .game-description 
                    each paragraph in game.description.split('\n') 
                        p= paragraph

                    b Playing Instructions: 
                    each paragraph in game.instructions.split('\n') 
                        p= paragraph

                    b Contact the Developers: 
                    each paragraph in game.instructions.split('\n')
                        p= paragraph

    // Webpage -------------------------------------------------------------------------------------------------------------------------------------

    // Title --------------------------------------------------------------------------------
    section#museum-title-container 
        .content-container 

            h1 Museum Games
        
    // Games --------------------------------------------------------------------------------
    section#museum-games 
        .content-container 

            for game of games
                +displayGame(game)
