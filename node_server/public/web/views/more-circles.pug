extends template.pug

block content

    // Variables -----------------------------------------------------------------------------------------------------------------------------------
    - var server;
    - var circle;

    // Mixins --------------------------------------------------------------------------------------------------------------------------------------
    mixin circlesServer(server)
        
        if server.active
            h3.circles-name #{server.ownerName}'s Circles 

        else 
            h3.circles-name #{server.ownerName}'s Circles 
                span 
                    h3.inactive-text (INACTIVE)

        b.description-title Description 

        .description 
            if server.description
                p= server.description 
            else 
                p No description avaliable

            if server.active
                .link-button 
                    a(href=server.link target='_blank') Check It Out 

        b.circles-title Circles:

        .server-circles 
            ul
                for circle of server.worlds
                    div
                        li= circle 

        hr

    // Webpage -------------------------------------------------------------------------------------------------------------------------------------

    section#more-circles-container 
        .content-container 

            b.intro-message Take a look at the other Circles out there and what they have been working on!

            if circleServers.length > 0
                
                for server of circleServers
                    if server.active
                        .server
                            +circlesServer(server)
                    else 
                        .server.inactive-server
                            +circlesServer(server)

            else

                .server-error-messages
                
                    if serverErrorMessage 
                        p.error-message=serverErrorMessage
                        p.error-message=secondaryMessage

                    else 
                        p Oops, no other Circles servers are available right now...

