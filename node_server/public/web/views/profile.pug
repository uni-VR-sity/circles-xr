extends layout.pug

block append stylesheets
  link(rel="stylesheet" type="text/css" href="/web/css/vendor/color-picker.css")

block content
  - var guest = userInfo.userType === CIRCLES.USER_TYPE.GUEST || userInfo.userType === CIRCLES.USER_TYPE.MAGIC_GUEST;

  h1 Profile
  
  hr
  br
  br

  table.pure-table.profile-table.gutter-bottom-doubled(style='margin-bottom:0')
    thead
      tr
        th Property
        th Value
    tbody
      tr
        td Username
        td= userInfo.userName
      tr
        td User Type
        td= userInfo.userType
        
      if !guest
        tr
          td Email
          td= userInfo.email
      tr
        td Display Name
        td= userInfo.displayName
      tr
        td Head Url
        td= userInfo.headUrl
      tr
        td Hair Url
        td= userInfo.hairUrl
      tr
        td Body Url
        td= userInfo.bodyUrl
      tr
        td Head Color
        td= userInfo.headColor
      tr
        td Hair Color
        td= userInfo.hairColor
      tr
        td Body Color
        td= userInfo.bodyColor
      tr
        td Hand Left Color
        td= userInfo.handLeftColor
      tr
        td Hand Right Color
        td= userInfo.handRightColor

  br
  br
  br

  h2 Update
  p(style='color:green;margin-bottom:0') #{successMessage}
  p(style='color:red;margin-bottom:0') #{errorMessage}
  form(action='/update-user' method='post' class='pure-form pure-form-aligned' style='margin: 15 0 0 0')
    fieldset
      .pure-left-control-group
        label Username
        input.field-long(type='text', name='username', placeholder='SuperFriend99', value=userInfo.userName, disabled='')
      .pure-left-control-group
        label User Type
        input.field-long(type='text', name='usertype', placeholder='SuperFriendlyUser', value=userInfo.userType, disabled='')
      .pure-left-control-group
        label Display Name
          span.tooltip <i class="fa-solid fa-circle-info"></i>
            p.tooltip-text(style='width:220px;margin-left:-110px;') Name that is shown when you enter a world
        input.field-long(type='text', name='displayName', placeholder='SuperFriend99', value=userInfo.displayName required)
      if !guest
        .pure-left-control-group
          label Email <i>(Optional)</i>
          input.field-long(type='email', name='email', placeholder='super@email.com', value=userInfo.email)
          span
            input(type='checkbox', name='deleteEmail' style='margin:0 10 0 15')
            label(style='white-space:nowrap') Delete from account

      hr.form-line-divider

      if !guest
        .pure-left-control-group
          label Old Password
          input.field-long(type='password', name='passwordOld')
        .pure-left-control-group
          label New Password
          input.field-long(type='password', name='passwordNew')
        .pure-left-control-group
          label Confirm Password
          input.field-long(type='password', name='passwordConf')
        hr.form-line-divider
      
      .pure-left-control-group
        label Head Model
        select.field-select(name='headModel' style='margin-right:10')!= userOptions.headOptions
        input.colorPicker.field-long(name='color_head', type='text', value=userInfo.headColor)
      .pure-left-control-group
        label Hair Model
        select.field-select(name='hairModel' style='margin-right:10')!= userOptions.hairOptions
        input.colorPicker.field-long(name='color_hair', type='text', value=userInfo.hairColor)
      .pure-left-control-group
        label Body Model
        select.field-select(name='bodyModel' style='margin-right:10')!= userOptions.bodyOptions
        input.colorPicker.field-long(name='color_body', type='text', value=userInfo.bodyColor)
      .pure-left-control-group
        label Hand Left Colour
        //select.field-select(name='handLeftModel')!= userOptions.handLeftOptions
        input.colorPicker.field-long(name='color_hand_left', type='text', value=userInfo.handLeftColor)
      .pure-left-control-group
        label Hand Right Colour
        //select.field-select(name='handRightModel')!= userOptions.handRightOptions
        input.colorPicker.field-long(name='color_hand_right', type='text', value=userInfo.handRightColor)

      .pure-controls(style='margin-top:30')
        input(type='submit' value='Update Profile' class='pure-button pure-button-primary')
