extends layout.pug

block append stylesheets
  link(rel="stylesheet" type="text/css" href="/web/css/vendor/color-picker.css")

block content
  - var guest = userInfo.userType === CIRCLES.USER_TYPE.GUEST;

  h2 Profile
  table.pure-table.profile-table.gutter-bottom-doubled
    thead
      tr
        th Property
        th Value
    tbody
      tr
        td username
        td= userInfo.userName
      tr
        td usertype
        td= userInfo.userType
      tr
        td headUrl
        td= userInfo.headUrl
      tr
        td hairUrl
        td= userInfo.hairUrl
      tr
        td bodyUrl
        td= userInfo.bodyUrl
      tr
        td headColor
        td= userInfo.headColor
      tr
        td hairColor
        td= userInfo.hairColor
      tr
        td bodyColor
        td= userInfo.bodyColor
      tr
        td handLeftColor
        td= userInfo.handLeftColor
      tr
        td handRightColor
        td= userInfo.handRightColor

  h2 Update
  p(style='color:green') #{successMessage}
  p(style='color:red') #{errorMessage}
  form(action='/update-user' method='post' class='pure-form pure-form-aligned' style='margin-left: 0')
    fieldset
      .pure-left-control-group
        label Username
        input.field-long(type='text', name='username', placeholder='SuperFriend99', value=userInfo.userName, disabled='')
      .pure-left-control-group
        label Usertype
        input.field-long(type='text', name='usertype', placeholder='SuperFriendlyUser', value=userInfo.userType, disabled='')

      hr.form-line-divider

      if !guest
        .pure-left-control-group
          label Old Password
          input.field-long(type='password', name='passwordOld')
        .pure-left-control-group
          label New Password
          input.field-long(type='password', name='passwordNew')
        .pure-left-control-group
          label Confirm Password
          input.field-long(type='password', name='passwordConf')
        hr.form-line-divider
      
      .pure-left-control-group
        label Head Model
        select.field-select(name='headModel' style='margin-right:10')!= userOptions.headOptions
        input.colorPicker.field-long(name='color_head', type='text', value=userInfo.headColor)
      .pure-left-control-group
        label Hair Model
        select.field-select(name='hairModel' style='margin-right:10')!= userOptions.hairOptions
        input.colorPicker.field-long(name='color_hair', type='text', value=userInfo.hairColor)
      .pure-left-control-group
        label Body Model
        select.field-select(name='bodyModel' style='margin-right:10')!= userOptions.bodyOptions
        input.colorPicker.field-long(name='color_body', type='text', value=userInfo.bodyColor)
      .pure-left-control-group
        label Hand Left Colour
        //select.field-select(name='handLeftModel')!= userOptions.handLeftOptions
        input.colorPicker.field-long(name='color_hand_left', type='text', value=userInfo.handLeftColor)
      .pure-left-control-group
        label Hand Right Colour
        //select.field-select(name='handRightModel')!= userOptions.handRightOptions
        input.colorPicker.field-long(name='color_hand_right', type='text', value=userInfo.handRightColor)

      .pure-controls(style='margin-top:30')
        input(type='submit' value='Update Profile' class='pure-button pure-button-primary')
