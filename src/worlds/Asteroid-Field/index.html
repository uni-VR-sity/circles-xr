<html>
  <head>

    <meta charset="utf-8">

    <!-- Circles' head scripts (no networking) [REQUIRED] -->
    <circles-start-scripts/>

    <!-- Game scripts -->
    <script src="/worlds/Asteroid-Field/scripts/game-manager.js"></script>
    <script src="/worlds/Asteroid-Field/scripts/player.js"></script>
    <script src="/worlds/Asteroid-Field/scripts/player-wasd.js"></script>
    <script src="/worlds/Asteroid-Field/scripts/asteroid.js"></script>
    <script src="/worlds/Asteroid-Field/scripts/asteroid-spawner.js"></script>

    <!-- Physics scripts -->
    <script src="/global/js/libs/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>

  </head>
  <body>

    <!-- 2D UI elements overylayed on the 3D scene for user options -->
    <circles-basic-ui/>

    <!-- This is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. (no avatar - no wardrobe button) -->
    <circles-NA-start-ui/>

    <!-- a-scene with 'circles-properties' component (no networking) [REQUIRED] -->
    <a-scene circles_NN_scene_properties background="color: black" physics="debug:false;">
      <a-assets>

      </a-assets>

      <!-- Circles' built-in manager and avatar (no avatar) [REQUIRED] -->
      <circles-NA-manager-avatar/>

      <!---------------------------------------------------------------------------------------------------------------------->

      <!-- Debugger -->
      <!--
      <a-entity position="10 3 -12"
                rotation="0 -40 0"
                geometry="primitive:plane; height:5; width:5;"
                material="color:blue">

        <a-entity id="debugger"
                  text="align:center; width:5; wrapCount:25"
                  position="0 0 0.01">
        </a-entity>
              
      </a-entity>
      -->

      <!-- Game manager -->
      <a-entity id="game-manager"
                game-manager>
      </a-entity>

      <!-- Player -->
      <a-entity id="player"
                player>
      
        <a-entity camera
                  look-controls="mouseEnabled:false;"
                  static-body="shape:sphere"
                  collision-filter="group:player">
        </a-entity>

        <!-- Game stats container -->
        <a-entity id="game-stats-container"
                  visible="false">

          <!-- Score container -->
          <a-entity id="score-container"
                    position="0 -0.25 0">

            <a-entity position="0 0 0"
                      geometry="primitive:plane; height:0.05; width:2"
                      material="color:white; shader:flat;">
            </a-entity>

            <a-entity id="score"
                      position="0 -0.35 0"
                      text="value:0; align:center; width:2; wrapCount:15; color:white; shader:flat;">
            </a-entity>

          </a-entity>

          <!-- Lives container -->
          <a-entity id="lives-container"
                    position="0 0.25 0"
                    scale="0.5 0.5 0.5">

            <a-entity id="live-1"
                      position="-1.5 0 0"
                      geometry="primitive:plane"
                      material="color:red; shader:flat;">
            </a-entity>

            <a-entity id="live-2"
                      position="0 0 0"
                      geometry="primitive:plane"
                      material="color:red; shader:flat;">
            </a-entity>

            <a-entity id="live-3"
                      position="1.5 0 0"
                      geometry="primitive:plane"
                      material="color:red; shader:flat;">
            </a-entity>

          </a-entity>

        </a-entity>

      </a-entity>
      

      <!-- Start screen -->
      <a-entity id="start-screen"
                visible="false">

        <a-entity geometry="primitive:plane; height:8; width:15"
                  material="color:#000338; shader:flat">

          <a-entity position="0 1.5 0.1"
                    text="value:Asteroid Field; align:center; width:15; wrapCount:25">
          </a-entity>

          <a-entity id="play-button"
                    position="0 -1.5 0.1"
                    geometry="primitive:plane; height:1.2; width: 4"
                    material="color:white; shader:flat">

            <a-entity position="0 0 0.1"
                      text="value:Play; color:#000338; align:center; width:4; wrapCount:15">
            </a-entity>

          </a-entity>

        </a-entity>

      </a-entity>

      <!-- Restart screen -->
      <a-entity id="restart-screen"
                visible="false">

        <a-entity geometry="primitive:plane; height:8; width:15"
                  material="color:#000338; shader:flat">

          <a-entity position="0 1.5 0.1"
                    text="value:Asteroid Field; align:center; width:15; wrapCount:25">
          </a-entity>

          <a-entity id="final-score"
                    position="0 0 0.1"
                    text="value:; color:white; align:center; width:4; wrapCount:15">
          </a-entity>

          <a-entity id="restart-button"
                    position="0 -1.5 0.1"
                    geometry="primitive:plane; height:1.2; width: 4"
                    material="color:white; shader:flat">

            <a-entity position="0 0 0.1"
                      text="value:Restart; color:#000338; align:center; width:4; wrapCount:15">
            </a-entity>

          </a-entity>

        </a-entity>

      </a-entity>

      <!-- Asteroid spawner -->
      <a-entity id="spawner">
      </a-entity>

      <!-- Asteroid container -->
      <a-entity id="asteroid-container">
      </a-entity>

    </a-scene>

    <!-- Circles' end scripts (no networking) [REQUIRED] -->
    <circles-NN-end-scripts/>

  </body>
</html>